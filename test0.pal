function hailstone : num takes initial-value : num look-forward-by : num {
  if initial-value <= 1 {
    1
  } else {
    if look-forward-by <= 0 {
      initial-value
    } else {
      next := {
        if initial-value % 2 = 0 {
          initial-value / 2
        } else {
          initial-value * 3 + 1
        }
      }
      hailstone (initial-value / 2) (sequence-head - 1)
    }
  }
}